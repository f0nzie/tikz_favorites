---
title: "My Tikz Favorites"
author: "Alfonso R. Reyes"
output:
  html_document:
    css: style.css
    keep_md: true
    toc: true
    number_sections: false
---

## Introduction
This is a repository of the best TikZ examples I have found around the web and from papers, slides, tutorials, and books. Most of the examples are simple enough to encourage anyone to start learning TikZ. By having the result (graphic) on a web page, and be able to click on it to see the code, it rapidly helps to make the connection between **code** and **output**. I find this idea fantastic.

TikZ is ideal for any kind of publications either websites, blogs, papers, articles, slides, or books because they are portable and reproducible. TikZ files are text not binaries. They don't require mouse and clicks but writing code to connect objects and elements. These object can be very simple or as sophisticated as you want. TikZ graphics can be built under any LaTex environment for any operating system: Windows, Linux or Mac OS.

There are hundreds of libraries for TikZ in all scientific fields. That makes it easier to build advanced graphics for practically any domain or discipline because you are able to start from code already written.


## Motivation

While working with Latex and TikZ file I had this question:

**How can I use the power of R to organize TikZ related files?**

**R** is very friendly to Latex and TikZ through the packages `knitr` and `rmarkdown`.

TikZ involves a source file, which carries the `tex` extension; the PDF that is generated by your Latex compiler and editor (I use *TexStudio*); the graphics output file -that could be anything imaginable. I use `png` files.


  
## How this README is built
This `README` is smartly generated with TikZ graphics and code located in the `src` folder.
This means that as you are adding, building, designing new TikZ drawings, they become available to be automatically included in this README file. It uses some `knitr` tricks. But the whole thing is awesome. 

The magic is provided by:

* the file `template.Rmd`
* the chunks of code that you can see in this `README`  


## Deployment of website in GitHub Pages (GHP)
This is a very interesting article about publshing your TikZ site: [Simple deployment to GH Pages](https://www.gnu.org/software/make/manual/html_node/Conditional-Syntax.html). I chose to publish it in `/docs` instead of the `public` folder because it is much easier to deploy. GHP does not allow to publish a website on a folder named `public`, unfortunately.


## Thanks. Original repository and idea 
I found this valuable resource while exploring TikZ and R: https://github.com/walmes/Tikz

It is pretty neat and relatively simple to use and personalize because it uses Hugo, a generator of static websites; the same engine that is used by `blogdown`, `bookdown`, and others.

Thanks to **Walmes Zeviani** for the great idea of combining Latex, TikZ, R and Hugo.

Source: https://github.com/walmes/Tikz
Web: http://leg.ufpr.br/~walmes/Tikz/  



## Summary 
This is my collection of favorite TikZ graphics. It is necessary to store and organize them as gallery because it makes it easier to peek at the code for new designs.



Some useful tutorials:

  * [TikZ Adventskalender](https://tobiw.de/en/teotm/tikz-adventskalender)
  * [TikZ for the Impatient](http://math.et.info.free.fr/TikZ/bdd/TikZ-Impatient.pdf)
  * <http://www.mat.ufpb.br/lenimar/introtikz.pdf>
  * [LaTeX for Economists](http://nfpoitiers.eu/wp-content/uploads/2018/08/3-presentations_and_graphics.pdf)
  * [Configurable Graph Drawing Algorithmsfor the TikZ Graphics Description Language](https://www.tcs.uni-luebeck.de/downloads/papers/2011/2011-configurable-graph-drawing-algorithms-jannis-pohlmann.pdf)
  * [TikZ for Economics By Chiu Yu Ko](https://www.google.com/books/edition/_/t3ZZDwAAQBAJ?hl=en&gbpv=0)
  * <http://www.statistiker-wg.de/pgf/tutorials.htm>
  * [A very minimal introduction to TikZ](https://cremeronline.com/LaTeX/minimaltikz.pdf)
  * [TikZ Tutorial](https://indico.scc.kit.edu/event/48/contributions/3405/attachments/1693/2321/tikz_tutorial.pdf)
  

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
               comment = NA,
               results = "asis",
               error = FALSE,
               warning = FALSE,
               message = FALSE)
a <- "```tex"
b <- "```"
```

```{r, include=FALSE}
# add file suffix for file selection
suffix <- ""
ext <- "png"
pattern <- paste0("^", suffix, ".*", "\\.", ext, "$")


file.remove("child.Rmd")
tmp <- readLines("template.Rmd")

# get all PGF files
pgf <- sub(x = list.files(path = "./src/", pattern = "*.pgf$"),
           pattern = "\\.pgf$",
           replacement = "")


tikz_files_all <- list.files(path = "./src/", pattern = "*\\.tex$")
tikz_lualatex <- grep(pattern = "\\.lualatex\\.tex$", x = tikz_files_all, value = TRUE)
tikz_pdflatex <- grep(pattern = "^.*(?<!\\.lualatex\\.tex)$", x = tikz_files_all, 
                      value = TRUE, perl = TRUE)
data_files <- list.files(path = "./src/data", pattern = "*\\.dat$|*\\.csv$|*\\.txt$")
texmf_files <- list.files(path = "./src/texmf")

tex <- sub(x = tikz_files_all,
           pattern = "\\.tex$",
           replacement = "")


# get all PNG files
png <- sub(x = list.files(path = "./src/", pattern = pattern),
           pattern = "\\.png$",
           replacement = "")

print(length(png))

# Common tex and png files
# if a PDF has its PNG generated file
i <- intersect(tex, png)

```



```{r include=FALSE}
# create notebook child.Rmd
sapply(i,
       FUN = function(i){
           tmpi <- gsub(x = tmp,
                        pattern = "&PGF_FILE&",
                        replacement = i)
           cat(tmpi,
               file = "child.Rmd",
               append = TRUE,
               sep= "\n")
       })
```


## Useful statistics

* There are `r length(i)` total Tikz figures saved as `.tex` files in this gallery. 
The figures are sorted by filename.
* There are `r length(tikz_pdflatex)` files under `src/` to be compiled with `pdflatex`
* There are `r length(tikz_lualatex)` files under `src/` to be compiled with `lualatex`
* There are `r length(data_files)` data files under the folder `src/data` that are being used by the TikZ scripts
* There are `r length(texmf_files)` Latex classes, styles and library files under the `src/texmf` folder




## TikZ graphics and code

```{r, child = "child.Rmd"}
```



## Implementation of a simple tag system for files

I am implementing a very primitive tag system based of identifiers that are included in the filenames. I started to do this in TikZ because the graphics could belong to different categories at the same time. My plan is using what is available in the operating systems. Tools like `grep`, `find`, `regex`, etc., should make this possible. I have done a pilot of this and seems to be working.

To tag the file -as you will see in the repository- I use the plus sign. I tried different symbols and this symbol is not obfuscated as a search string.

* Characters that pass the search test at OS level: `@`, `!`, `=`, `+`.
* Character that do not pass: `#`.

