---
title: "My Tikz Favorites"
author: "Alfonso R. Reyes"
output:
  html_document:
    css: style.css
    keep_md: true
    toc: true
    number_sections: false
---

## Introduction
This is a repository of the best TikZ examples I have found around the web and from papers, slides, tutorials, and books. Most of the examples are simple enough to encourage anyone to start learning TikZ. By having the result (graphic) on a web page, and be able to click on it to see the code, it rapidly helps to make the connection between **code** and **output**. I find this idea fantastic.

TikZ is ideal for any kind of publications either websites, blogs, papers, articles, slides, or books because they are portable and reproducible. TikZ files are text not binaries. They don't require mouse and clicks but writing code to connect objects and elements. These object can be very simple or as sophisticated as you want. TikZ graphics can be built under any LaTex environment for any operating system: Windows, Linux or Mac OS.

There are hundreds of libraries for TikZ in all scientific fields. That makes it easier to build advanced graphics for practically any domain or discipline because you are able to start from code already written.


## Motivation

While working with Latex and TikZ file I had this question:

**How can I use the power of R to organize TikZ related files?**

**R** is very friendly to Latex and TikZ through the packages `knitr` and `rmarkdown`.

TikZ involves a source file, which carries the `tex` extension; the PDF that is generated by your Latex compiler and editor (I use *TexStudio*); the graphics output file -that could be anything imaginable. I use `png` files.


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
               comment = NA,
               results = "asis",
               error = FALSE,
               warning = FALSE,
               message = FALSE)
a <- "```tex"
b <- "```"
```

```{r, include=FALSE}
# add file suffix for file selection
suffix <- ""
ext <- "png"
pattern <- paste0("^", suffix, ".*", "\\.", ext, "$")


file.remove("child.Rmd")
tmp <- readLines("template.Rmd")

# get all PGF files
pgf <- sub(x = list.files(path = "./src/", pattern = "*.pgf"),
           pattern = "\\.pgf$",
           replacement = "")

tex <- sub(x = list.files(path = "./src/", pattern = "*.tex"),
           pattern = "\\.tex$",
           replacement = "")

# get all PNG files
png <- sub(x = list.files(path = "./src/", pattern = pattern),
           pattern = "\\.png$",
           replacement = "")

print(length(png))

# Lista de arquivos que tem os pares pgf e png.
# i <- intersect(pgf, png)
i <- intersect(tex, png)

```

```{r include=FALSE}
# create notebook child.Rmd
sapply(i,
       FUN = function(i){
           tmpi <- gsub(x = tmp,
                        pattern = "&PGF_FILE&",
                        replacement = i)
           cat(tmpi,
               file = "child.Rmd",
               append = TRUE,
               sep= "\n")
       })
```



## Summary 
This is my collection of favorite TikZ graphics. It is necessary to store and organize them as gallery because it makes it easier to peek at the code for new designs.

There are `r length(i)` Tikz figures in this gallery. 

The figures are sorted by filename.

Some useful tutorials or galleries:

  * <https://tobiw.de/en/teotm/tikz-adventskalender>.
  * <http://math.et.info.free.fr/TikZ/bdd/TikZ-Impatient.pdf>.
  * <http://www.mat.ufpb.br/lenimar/introtikz.pdf>.




## Thanks. Original repository and idea 
I found this valuable resource while exploring TikZ and R: https://github.com/walmes/Tikz

It is pretty neat and relatively simple to use and personalize because it uses Hugo, a generator of static websites; the same engine that is used by `blogdown`, `bookdown`, and others.

Thanks to **Walmes Zeviani** for the great idea of combining Latex, TikZ, R and Hugo.

Source: https://github.com/walmes/Tikz
Web: http://leg.ufpr.br/~walmes/Tikz/  

## TikZ graphics and code

```{r, child = "child.Rmd"}
```

## The End
This `README` is smartly generated with TikZ graphics and code located in the `src` folder.
This means that as you are adding, building, designing new TikZ drawings, they become available to be automatically included in this README file. It uses some `knitr` tricks. But the whole thing is awesome. 

The magic is provided by:

* the file `template.Rmd`
* the chunks of code that you can see in this `README`



## Implementation of a simple tag system for files

I am implementing a very primitive tag system based of identifiers that are included in the filenames. I started to do this in TikZ because the graphics could belong to different categories at the same time. My plan is using what is available in the operating systems. Tools like `grep`, `find`, `regex`, etc., should make this possible. I have done a pilot of this and seems to be working.

To tag the file -as you will see in the repository- I use the plus sign. I tried different symbols and this symbol is not obfuscated as a search string.

* Characters that pass the search test at OS level: `@`, `!`, `=`, `+`.
* Character that do not pass: `#`.

